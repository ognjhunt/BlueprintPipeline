{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Genie Sim Local Dataset Info",
  "type": "object",
  "anyOf": [
    {
      "type": "object",
      "required": [
        "dataset_type",
        "format_version",
        "schema_version",
        "scene_id",
        "run_id",
        "pipeline_commit",
        "export_schema_version",
        "episodes",
        "total_frames",
        "average_quality_score",
        "source",
        "converted_at",
        "total_episodes",
        "skipped_episodes"
      ],
      "properties": {
        "dataset_type": {"type": "string"},
        "format_version": {"type": "string", "enum": ["1.0"]},
        "schema_version": {"type": "string", "enum": ["1.0.0"]},
        "scene_id": {"type": "string"},
        "run_id": {"type": "string"},
        "pipeline_commit": {"type": "string"},
        "export_schema_version": {"type": "string"},
        "episodes": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "episode_id",
              "episode_index",
              "num_frames",
              "duration_seconds",
              "quality_score",
              "validation_passed",
              "file"
            ],
            "properties": {
              "episode_id": {"type": "string"},
              "episode_index": {"type": "integer"},
              "num_frames": {"type": "integer"},
              "duration_seconds": {"type": "number"},
              "quality_score": {"type": "number"},
              "quality_components": {
                "type": "object",
                "additionalProperties": {"type": "number"}
              },
              "validation_passed": {"type": "boolean"},
              "file": {"type": "string"}
            },
            "additionalProperties": true
          }
        },
        "total_frames": {"type": "integer"},
        "average_quality_score": {"type": "number"},
        "source": {"type": "string"},
        "converted_at": {"type": "string"},
        "cost_summary": {
          "type": "object",
          "properties": {
            "total_usd": {"type": "number"},
            "categories": {
              "type": "object",
              "additionalProperties": {"type": "number"}
            },
            "by_job": {
              "type": "object",
              "additionalProperties": {"type": "number"}
            },
            "pricing_source": {"type": ["string", "null"]}
          },
          "additionalProperties": true
        },
        "total_episodes": {"type": "integer"},
        "skipped_episodes": {"type": "integer"}
      }
    },
    {
      "type": "object",
      "required": [
        "format",
        "export_format",
        "version",
        "episodes",
        "total_frames",
        "exported_at",
        "lerobot_info"
      ],
      "properties": {
        "format": {"type": "string"},
        "export_format": {"type": "string"},
        "version": {"type": "string", "enum": ["0.1.0"]},
        "episodes": {"type": "integer"},
        "skipped": {"type": "integer"},
        "total_frames": {"type": "integer"},
        "exported_at": {"type": "string"},
        "lerobot_info": {"type": "string"},
        "debug_json_output": {"type": "boolean"}
      }
    },
    {
      "type": "object",
      "required": [
        "format",
        "export_format",
        "version",
        "episodes",
        "total_frames",
        "exported_at",
        "lerobot_info"
      ],
      "properties": {
        "format": {"type": "string"},
        "export_format": {"type": "string", "enum": ["lerobot_v3"]},
        "version": {"type": "string"},
        "episodes": {"type": "integer"},
        "skipped": {"type": "integer"},
        "total_frames": {"type": "integer"},
        "exported_at": {"type": "string"},
        "lerobot_info": {"type": "string"},
        "debug_json_output": {"type": "boolean"}
      }
    }
  ],
  "additionalProperties": true
}
