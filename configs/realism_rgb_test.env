# RGB rendering test profile for BlueprintPipeline
# Based on realism_strict.env but with camera/RGB capture ENABLED.
# Use this on a T4 (or other rendering-capable) GPU VM for Stage 4 testing.

# Data fidelity
DATA_FIDELITY_MODE=production
STRICT_REALISM=true
STRICT_REAL_ONLY=1
STRICT_FAIL_ON_MANIFEST_DRIFT=1
STRICT_DISABLE_ACTION_AUGMENTATION=1
GENIESIM_REQUIRE_DYNAMIC_TOGGLE=1
REQUIRE_REAL_CONTACTS=true
REQUIRE_REAL_EFFORTS=true
REQUIRE_OBJECT_MOTION=true
REQUIRE_INTRINSICS=true

# ── RGB ENABLED (differs from realism_strict.env) ──
SKIP_RGB_CAPTURE=false
REQUIRE_VALID_RGB=true
REQUIRE_CAMERA_DATA=true
ENABLE_CAMERAS=1

# No fallbacks (except IK — cuRobo may not init on first try)
GENIESIM_PATCH_CHECK_STRICT=1
GENIESIM_ALLOW_HEURISTIC_ATTACH=0
GENIESIM_FORCE_ATTACH_ON_GRASP_PHASE=0
GENIESIM_ALLOW_IK_FAILURE_FALLBACK=1
GENIESIM_ALLOW_LINEAR_FALLBACK_IN_PROD=0
GENIESIM_SKIP_SERVER_RECORDING=0
ALLOW_GENIESIM_MOCK=0
USE_MOCK_CAPTURE=0

# Dynamic objects: keep kinematic at rest, Phase B toggles dynamic during grasp only.
GENIESIM_KEEP_OBJECTS_KINEMATIC=1
GENIESIM_RESET_PATCH_BASELINE=1
GENIESIM_DYNAMIC_FALLTHROUGH_GUARD=1

# cuRobo not on host; server-side IK via gRPC, local numerical IK accepted
CUROBO_REQUIRED=0
GENIESIM_SERVER_CUROBO_MODE=off
GENIESIM_INIT_ROBOT_FAILOVER_TIMEOUT_S=180

# Runtime readiness (relaxed — strict probe may fail on first attempt)
GENIESIM_STRICT_RUNTIME_READINESS=0
GENIESIM_STRICT_FAIL_ACTION=error
GENIESIM_STRICT_PREFLIGHT_FAIL_ACTION=warn
GENIESIM_ENABLE_SCENE_PHYSICS_PROBE=0
GENIESIM_REQUIRE_USD_PHYSICS_REPORT=false

# Stop on first task failure in strict mode
GENIESIM_STOP_ON_FIRST_TASK_FAILURE=1

# Object pose queries (server cold-start needs longer timeout)
GENIESIM_OBJECT_POSE_TIMEOUT_S=30
GENIESIM_OBJECT_POSE_EARLY_FAIL=10

# Timeouts
GENIESIM_FIRST_CALL_TIMEOUT_S=600
GENIESIM_GRPC_TIMEOUT_S=120

# ── Camera warmup enabled (differs from realism_strict.env) ──
CAMERA_REWARMUP_ON_RESET=1

# ── Certification: require RGB data (differs from realism_strict.env) ──
SKIP_CAMERA_HARDCAP=false
SKIP_STALE_EFFORT_CHANNEL_GATE=false
