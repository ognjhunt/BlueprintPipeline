# =============================================================================
# Text Backend Runtime Defaults (auto-loaded by start_text_backend_services.sh)
# =============================================================================
#
# This file is sourced automatically by:
#   /Users/nijelhunt_1/workspace/BlueprintPipeline/scripts/start_text_backend_services.sh
#
# Goal:
#   Ensure VM/autonomous runs use the SceneSmith paper bridge with quality flags,
#   without requiring manual export each time services restart.
#
# Notes:
# - Keep secrets in /Users/nijelhunt_1/workspace/BlueprintPipeline/.env (API keys).
# - If ${HOME}/scenesmith is missing, service startup falls back to internal mode.
#
# =============================================================================

# Force wrapper to run the official SceneSmith stack through paper command bridge.
SCENESMITH_SERVICE_MODE=paper_stack

# Keep SAGE wrapper internal by default (override as needed).
SAGE_SERVICE_MODE=internal

# SceneSmith paper stack paths.
SCENESMITH_PAPER_REPO_DIR=${SCENESMITH_PAPER_REPO_DIR:-${HOME}/scenesmith}
SCENESMITH_PAPER_PYTHON_BIN=${SCENESMITH_PAPER_PYTHON_BIN:-${SCENESMITH_PAPER_REPO_DIR}/.venv/bin/python}

# Default agent backend/model for paper stack.
SCENESMITH_PAPER_BACKEND=${SCENESMITH_PAPER_BACKEND:-openai}
# Leave model unset to let upstream default apply unless explicitly overridden.
SCENESMITH_PAPER_MODEL=${SCENESMITH_PAPER_MODEL:-}

# Quality routing defaults: force generated assets and image-guided generation.
SCENESMITH_PAPER_ALL_SAM3D=${SCENESMITH_PAPER_ALL_SAM3D:-true}
SCENESMITH_PAPER_DISABLE_ARTICULATED_STRATEGY=${SCENESMITH_PAPER_DISABLE_ARTICULATED_STRATEGY:-true}
SCENESMITH_PAPER_IMAGE_BACKEND=${SCENESMITH_PAPER_IMAGE_BACKEND:-gemini}
SCENESMITH_PAPER_ENABLE_GEMINI_CONTEXT_IMAGE=${SCENESMITH_PAPER_ENABLE_GEMINI_CONTEXT_IMAGE:-true}
SCENESMITH_PAPER_ENABLE_FURNITURE_CONTEXT_IMAGE=${SCENESMITH_PAPER_ENABLE_FURNITURE_CONTEXT_IMAGE:-true}
