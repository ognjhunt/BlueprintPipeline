# 3D-RE-GEN Reconstruction Configuration
# Used by the regen3d-reconstruct pipeline step

# Remote VM settings (same VM as GenieSim)
REGEN3D_VM_HOST=isaac-sim-ubuntu
REGEN3D_VM_ZONE=us-east1-d
REGEN3D_REPO_PATH=/home/nijelhunt1/3D-RE-GEN

# Pipeline steps to run (skip 8=render, 9=eval)
# When SAM3 is active, Step 1 is skipped automatically (SAM3 replaces it)
REGEN3D_STEPS=1,2,3,4,5,6,7

# Execution settings
REGEN3D_TIMEOUT_S=1800
REGEN3D_DEVICE=cuda:0
REGEN3D_JOBS_PER_GPU=1
REGEN3D_USE_ALL_CUDA=false

# Model choices
REGEN3D_USE_VGGT=true
REGEN3D_USE_HUNYUAN21=true

# Gemini model for nanoBanana inpainting (step 2)
# Uses GEMINI_API_KEY from environment
REGEN3D_GEMINI_MODEL=gemini-2.5-flash-image

# Segmentation backend: "sam3" (SAM3 text-prompted) or "grounded_sam" (original GroundingDINO+SAM1)
REGEN3D_SEG_BACKEND=sam3

# Use Gemini to auto-detect object labels from input image
# When true, Gemini analyzes the image first and generates dynamic labels.
# REGEN3D_LABELS is used as fallback only.
REGEN3D_AUTO_LABELS=true

# SAM3-specific settings (only used when SEG_BACKEND=sam3)
REGEN3D_SAM3_THRESHOLD=0.4
REGEN3D_SAM3_MODEL=facebook/sam3

# Segmentation labels (comma-separated)
# Used as fallback when auto-labels is disabled or Gemini fails
REGEN3D_LABELS="chair,table,sofa,cabinet,shelf,counter,sink,refrigerator,oven,microwave,lamp,plant in pot,bed,desk,stool,floor"

# Require background mesh in output (full scene mode with environment)
REGEN3D_REQUIRE_BACKGROUND=true

# Auto-start VM if stopped (requires user confirmation in interactive mode)
REGEN3D_AUTO_START_VM=false

# GCS sync settings (used by run_pipeline_gcs.sh)
GCS_BUCKET=blueprint-8c1ca.appspot.com
GCS_UPLOAD_OUTPUTS=true
GCS_UPLOAD_CONCURRENCY=4
